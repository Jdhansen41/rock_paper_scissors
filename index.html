<html>
	<head>
		<title>Game</title>
		<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/css/bootstrap.min.css">
		<link rel="stylesheet" href="game.css">
		
	</head>
	<body>
		<div class="jumbotron">
			<div class="text-center">
			<h1 style="margin-bottom: 50px;">Game Time</h1>
			<button class="btn btn-primary" onClick="game()">Play Game</button>
			<button class="btn btn-warning" onClick="reset()">Reset Score</button>
		</div>
		</div>
		<div class="text-center">
			<h3 style="display: inline-block;">User: <span id="userScore">0</span>  </h3>
			<h3 style="display: inline-block;">Computer: <span id="compScore">0</span></h3>
		</div>
		
		<script>
			const choices = ["rock", "paper", "scissors"];
			let userScore = 0;
			let compScore = 0;
			const displayUserScore = document.getElementById("userScore");
			const displayCompScore = document.getElementById("compScore");


			function playRound(comp,user){
				let compChoice = comp.toLowerCase();
				let userChoice = user.toLowerCase();
				console.log(comp, user);
				if(compChoice === userChoice){
					console.log("Everyone loses, it's a tie");
				}else
				if(compChoice === "rock" && userChoice === "paper"){
					console.log("You win!");
					userScore += 1;
				}else
				if(compChoice === "rock" && userChoice === "scissors"){
					console.log("You lose!");
					compScore += 1;
				}else
				if(compChoice === "rock" && userChoice === "scissors"){
					console.log("You lose!");
					compScore += 1;
				}else
				if(compChoice === "paper" && userChoice === "scissors"){
					console.log("You win!");
					userScore += 1;
				}else
				if(compChoice === "paper" && userChoice === "rock"){
					console.log("You lose!");
					compScore += 1;
				}else
				if(compChoice === "scissors" && userChoice === "paper"){
					console.log("You lose!");
					compScore += 1;
				}else
				if(compChoice === "scissors" && userChoice === "rock"){
					console.log("You win!");
					userScore += 1;
				}
				


				if(window.prompt("Play again? (Yes/No)?").toLowerCase() === "yes"){
				displayUserScore.innerHTML = userScore;
				displayCompScore.innerHTML = compScore;
					game();
				}
			}

			function checkPrompt(choice){
				if(choices.indexOf(choice.toLowerCase()) >= 0){
					console.log("true");
					return true;
				}
				else{
					return false;
				}
			}

			function computerPlay(){
				
				var choice = choices[Math.floor(Math.random() * 2)];
				return choice;
			}

			function reset(){
				compScore = 0;
				userScore = 0;
				displayUserScore.innerHTML = userScore;
				displayCompScore.innerHTML = compScore;
			}

			function game(){

				var computer = computerPlay();
				const playerSelection = window.prompt("Rock, Paper, or Scissors?");
				const auth = checkPrompt(playerSelection);
				if(auth == true){
					playRound(computer, playerSelection);
				}
				else{
					alert("Please enter a rock, paper, or scissors");
					game();
				}

			}

			
		</script>
	</body>
</html>